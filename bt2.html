<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" type="image/x-icon" href="https://scontent-hkt1-1.xx.fbcdn.net/v/t1.6435-9/140226783_3868923109840302_1733140513865225383_n.png?_nc_cat=110&ccb=1-7&_nc_sid=09cbfe&_nc_ohc=ORfPK6gJJ20AX_8ov6F&_nc_ht=scontent-hkt1-1.xx&oh=00_AT9IKb_VzGjwCkGUpcvdyfeVy9BP4fouxoRdxPOxKEviJg&oe=633DE9E3"/>
        <title> Bai 2 </title>
    </head>
    <body>
        <div>
            <a style="color:antiquewhite; background-color: blue;font-size: medium; font-weight: bold">LỘ TRÌNH</a>
            <a style="color:antiquewhite; background-color: rgb(255, 0, 0);font-size: medium; font-weight: bold">DOANH NGHIỆP</a>
            <a style="color:antiquewhite; background-color: rgb(255, 119, 0);font-size: medium; font-weight: bold">KHÓA HỌC</a>
            <a style="color:antiquewhite; background-color: rgb(0, 255, 60);font-size: medium; font-weight: bold">SẢN PHẨM HỌC VIÊN</a>
        </div>
        <h1> Sử dụng cron job trong postgresql </h1>
        <img 
            src="https://wiki.tino.org/wp-content/uploads/2019/02/image-15396779968201940272017-0-0-575-1024-crop-1539678002135262302655.png"
            alt="anh web"
            width="500"
            height="100">
        <p><a href="https://techmaster.vn/"> WEBSITE</a></p>
        <hr>
        <p> Cron job là chương trình để chạy các tác vụ lặp đi lặp lại theo chu kỳ nhất định.<br>Hôm nay chúng ta sẽ tìm hiểu cách cài đặt extension cron trong postgresql trên môi trường docker và chạy thử.</p>
        <h2>1. Cấu trúc thư mục</h2>
            <ul>
                <li>1...</li>
                <li>2...</li>
            </ul>
        <h2>2. Dockerfile</h2> 
        <p>cac buoc:</p>
            <ol>
                <li>1...</li>
                <li>2...</li>
            </ol>
        <h2>3. pg_cron.sh</h2> 
        <img
            src="C:\Users\user\Desktop\anh bt\anh1.png"
            alt="anh pc"
            width="800"
            height="100">
        <h2>4. docker-compose.yaml</h2>
        <h2>5. Khởi động</h2>
        <p>Mở terminal chạy lệnh sau</p>
        <p>Sau khi build xong, ta bắt đầu kết nối vào container postgres.<br>Sau đó chạy các lệnh sql sau</p>
        <h2>6. Bài tập:</h2>
        <p>Giờ ta sẽ thử làm một <b>bài tập</b> Mỗi 1 phút trôi qua, insert vào bảng users một name ngẫu nhiên trong mảng gồm 5 giá trị name.</p>
        <p>Sau khi chạy function, ta thử kiểm tra bảng cron.job</p>
        <p><b>Kết quả:</b></p>
        <p>Giờ ta chờ mỗi phút và kiểm tra xem bảng users đã insert dữ liệu hay chưa. Đây là kết quả sau 3 phút</p>
        <p><b>Kết quả:</b></p>
        <p>Để từ bỏ tác vụ trên, ta có thể sử dụng function unschedule(jobid) hay unschedule(jobname)</p>
        <p>Kiểm tra bảng cron.job:</p>
        <h2>Kết</h2>
        <p>Như vậy trong bài này ta đã biết cách để chạy tác vụ định kỳ trên postgres khởi động bằng docker. Đây là tiện ích có thể áp dụng cho rất nhiều tình huống trong đời sống cần chạy tác vụ định kỳ, ví dụ như cuối tháng tính lương cho nhân viên,…</p>
        <h1>Bình luận</h1>
    </body>
</html>        